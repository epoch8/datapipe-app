{
    "tables": {
        "post_input": {},
        "post_image": {},
        "post_video": {},
        "post_text": {},
        "moderation_manual": {},
        "moderation_aggregated": {},
        "post": {}
    },
    "pipeline": [
        {
            "type": "transform",
            "func": "post_split_medias",
            "inputs": ["post_input"],
            "outputs": ["post_image", "post_video", "post_text"]
        },
        {
            "type": "transform",
            "func": "image_list_moderation",
            "inputs": ["post_image"],
            "outputs": ["moderation_image"]
        },
        {
            "type": "transform",
            "func": "videos_list_moderation",
            "inputs": ["post_video"],
            "outputs": ["moderation_video"]
        },
        {
            "type": "transform",
            "func": "text_moderation",
            "inputs": ["post_text"],
            "outputs": ["moderation_text"]
        },
        {
            "type": "meta",
            "name": "LabelStudioStep",
            "graph": {
                "tables": {
                    "ls_output_uploader": {},
                    "ls_output": {}
                },
                "pipeline": [
                    {
                        "type": "transform",
                        "name": "load_data_to_ls",
                        "func": "input_convert_func",
                        "inputs": ["post_input"],
                        "outputs": ["ls_output_uploader"]
                    },
                    {
                        "type": "transform",
                        "name": "update_ls_dt_meta",
                        "inputs": [],
                        "outputs": ["ls_output"]
                    }
                ]
            }
        },
        {
            "type": "transform",
            "func": "label_studio_output",
            "inputs": ["ls_output"],
            "outputs": ["moderation_manual"]
        },
        {
            "type": "transform",
            "func": "moderation_aggregation",
            "inputs": ["moderation_image", "moderation_video", "moderation_text", "moderation_manual"],
            "outputs": ["moderation_aggregated"]
        },
        {
            "type": "transform",
            "func": "output_conversion",
            "inputs": ["post_input", "moderation_aggregated"],
            "outputs": ["post"]
        }
    ]
}